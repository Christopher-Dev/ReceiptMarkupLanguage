@page "/editor"
@using Microsoft.JSInterop
@using MudBlazor
@using RmlEditorWeb.Components
@using RmlEditorWeb.Models
@inject IJSRuntime JS


<EditorTopBar OnRenderClick="RenderImageAsync"></EditorTopBar>

<div class="outer-container">
    <!-- Main Content -->
    <div class="main-content">
        <!-- Monaco Editor Container -->
        <div class="editor-container">
            <MonacoEditor @ref="monacoEditorRef" Code="@InitialCode" />
        </div>

        <!-- Image Container -->
        <div class="image-container">
            @if (!string.IsNullOrEmpty(RenderedImageData))
            {
                <img src="@($"data:image/png;base64,{RenderedImageData}")" alt="Rendered Image" class="shadowed-image" />
            }
            else
            {
                <div class="no-image-container">
                    <MudText>
                        Click Render to view your Receipt
                    </MudText>
                </div>
            }
        </div>
    </div>
</div>
